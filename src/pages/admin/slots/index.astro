---
import AdminLayout from '@/layouts/AdminLayout.astro';
import { getAdminAuth, requireAdmin} from '@/lib/auth';
import SlotsManager from '@/components/admin/SlotsManager';

// Protect this page - only admins can access
const auth = await getAdminAuth(Astro);
const user = requireAdmin(auth);

if (!user) {
  return Astro.redirect('/auth/login?redirect=/admin/slots');
}
---

<AdminLayout title="Slots Manager" user={user} currentPage="/admin/slots">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <SlotsManager client:load />
  </div>
</AdminLayout>
